# --- Dia 6: Patrulha do Guarda ---

Os Historiadores usam novamente seu `dispositivo` sofisticado, desta vez para transportar todos para o laboratório de fabricação de protótipos de roupas no Polo Norte... no ano de 1518! Aparentemente, ter acesso direto à história é muito conveniente para um grupo de historiadores.

No entanto, é importante tomar cuidado com paradoxos temporais, e por isso será essencial evitar contato com qualquer pessoa de `1518` enquanto os Historiadores procuram pelo Chefe. Infelizmente, um único **guarda** está patrulhando esta parte do laboratório.

Talvez você consiga descobrir para onde o guarda irá com antecedência, permitindo que os Historiadores procurem com segurança.

Você começa criando um mapa (a entrada do seu desafio) para entender a situação. Por exemplo:

```
....#.....
.........#
..........
..#.......
.......#..
..........
.#..^.....
........#.
#.........
......#...
```

O mapa mostra a posição atual do guarda com `^` (indicando que o guarda está atualmente voltado para **cima**, na perspectiva do mapa). Qualquer **obstrução** – caixas, mesas, reatores alquímicos, etc. – é representada por `#`.

Os guardas do laboratório em 1518 seguem um protocolo de patrulha muito rigoroso, que envolve repetir os seguintes passos:

1. Se houver algo diretamente à sua frente, vire 90 graus para a direita.
2. Caso contrário, dê um passo para frente.

Seguindo esse protocolo, o guarda se move para cima várias vezes até encontrar um obstáculo (neste caso, uma pilha de protótipos de roupas falhadas):

```
....#.....
....^....#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#...
```

Como há agora um obstáculo à frente do guarda, ele vira para a direita antes de continuar reto em sua nova direção:

```
....#.....
........>#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#...
```

Ao encontrar outro obstáculo (um carretel de polímeros **muito** longos), ele vira novamente à direita e continua descendo:

```
....#.....
.........#
..........
..#.......
.......#..
..........
.#......v.
........#.
#.........
......#...
```

Esse processo continua por um tempo, mas eventualmente o guarda sai da área mapeada (depois de passar por um tanque de solvente universal):

```
....#.....
.........#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#v..
```

Prevendo a rota do guarda, você pode determinar quais posições específicas no laboratório estarão no caminho da patrulha. Incluindo a posição inicial do guarda, as posições visitadas pelo guarda antes de sair da área são marcadas com `X`:

```
....#.....
....XXXXX#
....X...X.
..#.X...X.
..XXXXX#X.
..X.X.X.X.
.#XXXXXXX.
.XXXXXXX#.
#XXXXXXX..
......#X..
```

Neste exemplo, o guarda visitará **41 posições distintas** no mapa.

**Preveja o caminho do guarda. Quantas posições distintas o guarda visitará antes de sair da área mapeada?**
